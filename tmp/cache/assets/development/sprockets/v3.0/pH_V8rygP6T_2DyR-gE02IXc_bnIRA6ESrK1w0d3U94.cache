I"l(function() {
  var $document;

  $document = $(document);

  $document.ready(function() {
    var ctrl;
    ctrl = {
      '$document': $document,
      shadowId: '#shadow',
      shadow: null,
      containerId: '#top-players-container',
      container: null,
      closeBtnId: '#close-btn',
      closeBtn: null,
      hover: 'mouseenter',
      animationDuration: 600,
      isLoading: false,
      isLoaded: false,
      content: null,
      init: function() {
        ctrl.container = $(ctrl.containerId);
        $document.on('mouseenter', ctrl.containerId, ctrl.open);
        return $document.on('click', ctrl.closeBtnId, ctrl.close);
      },
      open: function() {
        if (!ctrl.isLoaded) {
          return ctrl.load().then(function(data) {
            ctrl.container.html(ctrl.content);
            return ctrl.animate();
          });
        } else {
          return ctrl.animate();
        }
      },
      close: function() {
        ctrl.container.removeClass('open');
        ctrl.shadow.removeClass('on');
        return ctrl._customAnimation(0);
      },
      load: function() {
        ctrl.isLoading = true;
        return $.get('/top_players/index', function(data) {
          ctrl.isLoading = false;
          ctrl.isLoaded = true;
          return ctrl.content = data;
        });
      },
      animate: function() {
        ctrl.container.addClass('open', ctrl.animationDuration, "easeInQuad");
        ctrl._customAnimation(620);
        return ctrl._addShadow();
      },
      _customAnimation: function(width) {
        return ctrl.container.animate({
          'max-width': width + "px"
        }, ctrl.animationDuration);
      },
      _bindClose: function() {
        var ref;
        ctrl.closeBtn || (ctrl.closeBtn = $(ctrl.closeBtnId));
        return (ref = ctrl.closeBtn) != null ? ref.on('click', ctrl.close) : void 0;
      },
      _unbindClose: function() {
        return ctrl.closeBtn.off('click');
      },
      _addShadow: function() {
        ctrl.shadow || (ctrl.shadow = $(ctrl.shadowId));
        return ctrl.shadow.addClass('on');
      }
    };
    return ctrl.init();
  });

}).call(this);
:ET