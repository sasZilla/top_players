I"f(function() {
  $(document).ready(function() {
    var ctrl;
    ctrl = {
      containerId: '#top-players-container',
      container: null,
      hover: 'mouseenter mouseleave',
      animationDuration: 1000,
      isLoading: false,
      isLoaded: false,
      content: null,
      init: function() {
        ctrl.container = $(ctrl.containerId);
        return ctrl.container.on(ctrl.hover, function() {
          ctrl.container.off(ctrl.hover);
          if (!ctrl.isLoaded) {
            return ctrl.load().then(function(data) {
              ctrl.container.html(ctrl.content);
              return ctrl.animate();
            });
          } else {
            return ctrl.animate();
          }
        });
      },
      load: function() {
        ctrl.isLoading = true;
        return $.get('/top_players/index', function(data) {
          ctrl.isLoading = false;
          ctrl.isLoaded = true;
          return ctrl.content = data;
        });
      },
      animate: function() {
        return ctrl.container.addClass('open', ctrl.animationDuration);
      }
    };
    return ctrl.init();
  });

}).call(this);
:ET